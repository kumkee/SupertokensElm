# Spacefile Docs: https://go.deta.dev/docs/spacefile/v0
v: 0
micros:
  - name: backend
    src: ./backend
    engine: custom
    commands:
      - apt-get update -y
      - apt-get install -y python3.9-venv
      - python3.9 -m venv env
      - source env/bin/activate
      - pip install -r requirements.txt
    run:
      uvicorn main:app --host 0.0.0.0 --port 80
    primary: true
    public_routes:
      - "/*"
